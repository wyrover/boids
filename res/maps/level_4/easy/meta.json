{
    "positions": [
        {
            "name": "player_start",
            "rect": {
                "x": 5434.05,
                "y": 2138.38,
                "width": 116.808,
                "height": 118.805
            }
        },
        {
            "name": "orange_01",
            "rect": {
                "x": 5300.86,
                "y": 2864.18,
                "width": 111.816,
                "height": 65.8916
            }
        },
        {
            "name": "orange_02",
            "rect": {
                "x": 4541.11,
                "y": 2200.27,
                "width": 427.298,
                "height": 183.698
            }
        },
        {
            "name": "orange_03",
            "rect": {
                "x": 3979.04,
                "y": 2445.87,
                "width": 171.718,
                "height": 447.265
            }
        },
        {
            "name": "orange_04",
            "rect": {
                "x": 3173.36,
                "y": 2434.89,
                "width": 132.782,
                "height": 122.798
            }
        },
        {
            "name": "orange_05",
            "rect": {
                "x": 2614.28,
                "y": 2296.12,
                "width": 95.8425,
                "height": 92.8474
            }
        },
        {
            "name": "orange_06",
            "rect": {
                "x": 1861.52,
                "y": 2334.05,
                "width": 174.713,
                "height": 123.797
            }
        },
        {
            "name": "orange_07",
            "rect": {
                "x": 1814.59,
                "y": 2029.55,
                "width": 121.8,
                "height": 98.8376
            }
        },
        {
            "name": "orange_08",
            "rect": {
                "x": 1564.01,
                "y": 1237.85,
                "width": 97.8394,
                "height": 99.8359
            }
        },
        {
            "name": "orange_09",
            "rect": {
                "x": 2046.21,
                "y": 1051.16,
                "width": 103.829,
                "height": 88.8539
            }
        },
        {
            "name": "orange_10",
            "rect": {
                "x": 1295.45,
                "y": 726.695,
                "width": 87.8557,
                "height": 79.8687
            }
        },
        {
            "name": "orange_11",
            "rect": {
                "x": 326.04,
                "y": 1455.5,
                "width": 179.705,
                "height": 98.8376
            }
        },
        {
            "name": "orange_12",
            "rect": {
                "x": 625.548,
                "y": 1949.68,
                "width": 71.8818,
                "height": 69.8851
            }
        },
        {
            "name": "orange_13",
            "rect": {
                "x": 870.145,
                "y": 2519.75,
                "width": 238.608,
                "height": 142.765
            }
        },
        {
            "name": "orange_14",
            "rect": {
                "x": 3081.51,
                "y": 1279.79,
                "width": 68.887,
                "height": 74.877
            }
        },
        {
            "name": "trigger_boss",
            "rect": {
                "x": 3744.42,
                "y": 866.464,
                "width": 172.716,
                "height": 893.532
            }
        },
        {
            "name": "boss",
            "rect": {
                "x": 4266.56,
                "y": 1098.08,
                "width": 100.834,
                "height": 85.859
            }
        },
        {
            "name": "orange_15",
            "rect": {
                "x": 4472.23,
                "y": 961.309,
                "width": 155.744,
                "height": 293.518
            }
        },
        {
            "name": "orange_16",
            "rect": {
                "x": 3815.31,
                "y": 363.292,
                "width": 154.746,
                "height": 96.8409
            }
        },
        {
            "name": "orange_17",
            "rect": {
                "x": 2879.84,
                "y": 213.538,
                "width": 114.811,
                "height": 88.8539
            }
        }
    ],
    "events": [
        {
            "name": "lose_trigger",
            "enabled": true,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "unit_change",
                    "source_type": "tag_source",
                    "source_value": "player",
                    "unit_state": "unit_alive",
                    "trigger_count": 0
                }
            ],
            "actions": [
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "task_change",
                    "task_name": "main_win",
                    "task_state": "task_failed"
                }
            ]
        },
        {
            "name": "story_01",
            "enabled": true,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "map_init"
                }
            ],
            "actions": [
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "story_action",
                    "story_data": [
                        {
                            "left_or_right": true,
                            "line": "猫女：这里感觉阴森森的！",
                            "speaker": "kyle"
                        },
                        {
                            "left_or_right": true,
                            "line": "德古拉：你也有害怕的时候！",
                            "speaker": "dracula"
                        },
                        {
                            "left_or_right": true,
                            "line": "猫女：我才不怕！",
                            "speaker": "kyle"
                        },
                        {
                            "left_or_right": false,
                            "line": "骷髅王：kakaka...kekeke...",
                            "speaker": "skeleton_king"
                        },
                        {
                            "left_or_right": true,
                            "line": "猫女：啊啊啊啊啊啊！",
                            "speaker": "kyle"
                        },
                        {
                            "left_or_right": true,
                            "line": "德古拉....",
                            "speaker": "dracula"
                        },
                        {
                            "left_or_right": true,
                            "line": "小鹿：咦？那边的水晶好像在发光！",
                            "speaker": "enchantress"
                        },
                        {
                            "left_or_right": true,
                            "line": "德古拉：也许跟前面的门有关！",
                            "speaker": "dracula"
                        }
                    ],
                    "name": "story_01"
                }
            ]
        },
        {
            "name": "story_02",
            "enabled": true,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "unit_stay",
                    "source_type": "tag_source",
                    "source_value": "player",
                    "position_name": "trigger_boss",
                    "trigger_count": 1,
                    "duration": 0
                }
            ],
            "actions": [
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "story_action",
                    "story_data": [
                        {
                            "left_or_right": false,
                            "line": "骷髅王：凡人！竟敢来盗我的宝石！拿命来！",
                            "speaker": "skeleton_king"
                        },
                        {
                            "left_or_right": true,
                            "line": "猫女：......",
                            "speaker": "kyle"
                        },
                        {
                            "left_or_right": true,
                            "line": "德古拉：听不到你吐槽，总觉得不太舒服...",
                            "speaker": "dracula"
                        },
                        {
                            "left_or_right": true,
                            "line": "小鹿：小心！注意骷髅王身上的状态！",
                            "speaker": "enchantress"
                        }
                    ],
                    "name": "story_02"
                }
            ]
        },
        {
            "name": "trigger_boss",
            "enabled": true,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "story_change",
                    "story_name": "story_02",
                    "story_state": "story_end"
                }
            ],
            "actions": [
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "event_change",
                    "event_name": "win_trigger",
                    "event_state": "event_enable"
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "skeleton_king",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "show_hp": true,
                    "tag_name": "boss",
                    "position_name": "boss",
                    "unit_count": 1,
                    "is_boss": true,
                    "custom_change": "hp:3000",
                    "unit_level": 5,
                    "popup_type": "normal",
                    "skill_1_level": 2
                }
            ]
        },
        {
            "name": "boss_buff_red",
            "enabled": true,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "unit_change",
                    "source_type": "tag_source",
                    "source_value": "boss",
                    "unit_state": "unit_appear",
                    "trigger_count": 1
                }
            ],
            "actions": [
                {
                    "meta": "-1,0.00,60.00",
                    "action_type": "unit_change",
                    "source_type": "tag_source",
                    "source_value": "boss",
                    "buff_name": "damage_off",
                    "buff_type": "buff_tag_protect",
                    "buff_params": "duration:-1,buff_param:red,effect_resource:buff_ball,color_red:255",
                    "unit_level": 1,
                    "popup_type": "normal"
                }
            ]
        },
        {
            "name": "boss_buff_yellow",
            "enabled": true,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "unit_change",
                    "source_type": "tag_source",
                    "source_value": "boss",
                    "unit_state": "unit_appear",
                    "trigger_count": 1
                }
            ],
            "actions": [
                {
                    "meta": "-1,20.00,60.00",
                    "action_type": "unit_change",
                    "source_type": "tag_source",
                    "source_value": "boss",
                    "buff_name": "damage_off",
                    "buff_type": "buff_tag_protect",
                    "buff_params": "duration:-1,buff_param:yellow,effect_resource:buff_ball,color_green:255,color_red:255",
                    "unit_level": 1,
                    "popup_type": "normal"
                }
            ]
        },
        {
            "name": "boss_buff_blue",
            "enabled": true,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "unit_change",
                    "source_type": "tag_source",
                    "source_value": "boss",
                    "unit_state": "unit_appear",
                    "trigger_count": 1
                }
            ],
            "actions": [
                {
                    "meta": "-1,40.00,60.00",
                    "action_type": "unit_change",
                    "source_type": "tag_source",
                    "source_value": "boss",
                    "buff_name": "damage_off",
                    "buff_type": "buff_tag_protect",
                    "buff_params": "duration:-1,buff_param:blue,effect_resource:buff_ball,color_green:255,color_blue:255",
                    "unit_level": 1,
                    "popup_type": "normal"
                }
            ]
        },
        {
            "name": "win_trigger",
            "enabled": false,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "unit_change",
                    "source_type": "tag_source",
                    "source_value": "boss",
                    "unit_state": "unit_alive",
                    "trigger_count": 0
                }
            ],
            "actions": [
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "task_change",
                    "task_name": "main_win",
                    "task_state": "task_finished"
                }
            ]
        },
        {
            "name": "default_monster",
            "enabled": true,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "story_change",
                    "story_name": "story_01",
                    "story_state": "story_end"
                }
            ],
            "actions": [
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "white_ghost",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_01",
                    "unit_count": 1,
                    "unit_level": 4
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "white_ghost",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_02",
                    "unit_count": 2,
                    "unit_level": 4
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "white_ghost",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_05",
                    "unit_count": 1,
                    "unit_level": 4
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "white_ghost",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_06",
                    "unit_count": 1,
                    "unit_level": 4
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "white_ghost",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_08",
                    "unit_count": 1,
                    "unit_level": 4
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "white_ghost",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_09",
                    "unit_count": 2,
                    "unit_level": 4
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "white_ghost",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_17",
                    "unit_count": 2,
                    "unit_level": 4
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "skeleton_warrior",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_01",
                    "unit_count": 1,
                    "unit_level": 4
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "skeleton_warrior",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_03",
                    "unit_count": 1,
                    "unit_level": 4
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "skeleton_warrior",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_04",
                    "unit_count": 1,
                    "unit_level": 4
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "skeleton_warrior",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_07",
                    "unit_count": 1,
                    "unit_level": 4
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "skeleton_warrior",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_10",
                    "unit_count": 2,
                    "unit_level": 4
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "skeleton_warrior",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_15",
                    "unit_count": 3,
                    "unit_level": 4
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "dead_archer",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_02",
                    "unit_count": 1,
                    "unit_level": 4
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "dead_archer",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_03",
                    "unit_count": 1,
                    "unit_level": 4
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "dead_archer",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_06",
                    "unit_count": 1,
                    "unit_level": 4
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "dead_archer",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_12",
                    "unit_count": 1,
                    "unit_level": 4
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "dead_archer",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_11",
                    "unit_count": 2,
                    "unit_level": 4
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "dead_archer",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_16",
                    "unit_count": 2,
                    "unit_level": 4
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "mummy",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_04",
                    "unit_count": 1,
                    "unit_level": 4
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "mummy",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_07",
                    "unit_count": 1,
                    "unit_level": 4
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "mummy",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_13",
                    "unit_count": 3,
                    "unit_level": 4
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "mummy",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_14",
                    "unit_count": 1,
                    "unit_level": 4
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "mummy",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_17",
                    "unit_count": 1,
                    "unit_level": 4
                }
            ]
        }
    ],
    "units": [
        "dead_archer",
        "skeleton_king",
        "skeleton_warrior",
        "white_ghost",
        "mummy"
    ],
    "tasks": [
        {
            "type": "primary_win",
            "name": "main_win",
            "desc": "消灭骷髅王",
            "title": "消灭骷髅王"
        },
        {
            "type": "additional_win",
            "name": "add_task_1",
            "desc": "全员生存",
            "title": "全员生存"
        },
        {
            "type": "additional_win",
            "name": "add_task_2",
            "desc": "3分钟内完成任务",
            "title": "3分钟内完成任务"
        }
    ]
}