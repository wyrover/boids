{
    "positions": [
        {
            "name": "player_start",
            "rect": {
                "x": 4192.68,
                "y": 1929.72,
                "width": 227.626,
                "height": 196.677
            }
        },
        {
            "name": "orange_01",
            "rect": {
                "x": 3844.26,
                "y": 2247.2,
                "width": 104.828,
                "height": 95.8428
            }
        },
        {
            "name": "orange_02",
            "rect": {
                "x": 3427.94,
                "y": 1791.95,
                "width": 77.8721,
                "height": 71.8818
            }
        },
        {
            "name": "vice_boss_01",
            "rect": {
                "x": 2947.73,
                "y": 2182.3,
                "width": 126.792,
                "height": 121.8
            }
        },
        {
            "name": "orange_03",
            "rect": {
                "x": 2790.99,
                "y": 2254.19,
                "width": 71.8818,
                "height": 63.895
            }
        },
        {
            "name": "orange_05",
            "rect": {
                "x": 747.347,
                "y": 2179.31,
                "width": 88.8539,
                "height": 74.877
            }
        },
        {
            "name": "vice_boss_02",
            "rect": {
                "x": 393.927,
                "y": 2214.25,
                "width": 94.8441,
                "height": 83.8623
            }
        },
        {
            "name": "orange_06",
            "rect": {
                "x": 294.091,
                "y": 1422.55,
                "width": 110.818,
                "height": 96.8408
            }
        },
        {
            "name": "orange_07",
            "rect": {
                "x": 572.634,
                "y": 717.712,
                "width": 102.831,
                "height": 95.8425
            }
        },
        {
            "name": "orange_08",
            "rect": {
                "x": 1725.74,
                "y": 246.486,
                "width": 99.8359,
                "height": 99.8359
            }
        },
        {
            "name": "vice_boss_03",
            "rect": {
                "x": 2002.28,
                "y": 372.28,
                "width": 83.8622,
                "height": 78.8705
            }
        },
        {
            "name": "orange_09",
            "rect": {
                "x": 1788.64,
                "y": 1005.24,
                "width": 79.8688,
                "height": 77.8721
            }
        },
        {
            "name": "orange_10",
            "rect": {
                "x": 2419.6,
                "y": 1077.12,
                "width": 105.826,
                "height": 92.8474
            }
        },
        {
            "name": "orange_11",
            "rect": {
                "x": 3357.06,
                "y": 954.323,
                "width": 125.793,
                "height": 98.8376
            }
        },
        {
            "name": "boss",
            "rect": {
                "x": 4009.99,
                "y": 654.815,
                "width": 93.8459,
                "height": 89.8523
            }
        },
        {
            "name": "orange_04",
            "rect": {
                "x": 1369.1,
                "y": 1729.49,
                "width": 135.204,
                "height": 100.181
            }
        },
        {
            "name": "chomper_02",
            "rect": {
                "x": 2113.59,
                "y": 1812.17,
                "width": 81.5503,
                "height": 67.3425
            }
        },
        {
            "name": "chomper_01",
            "rect": {
                "x": 3101.69,
                "y": 1974.12,
                "width": 81.1294,
                "height": 80.7688
            }
        },
        {
            "name": "chomper_03",
            "rect": {
                "x": 968.658,
                "y": 1095.05,
                "width": 81.1339,
                "height": 68.2222
            }
        },
        {
            "name": "chomper_04",
            "rect": {
                "x": 2438.17,
                "y": 1000.54,
                "width": 73.1221,
                "height": 65.728
            }
        },
        {
            "name": "chomper_05",
            "rect": {
                "x": 4255.39,
                "y": 744.653,
                "width": 58.9141,
                "height": 60.6317
            }
        }
    ],
    "events": [
        {
            "name": "story_01",
            "enabled": true,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "map_init"
                }
            ],
            "actions": [
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "story_action",
                    "story_data": [
                        {
                            "left_or_right": true,
                            "line": "小鹿：骷髅的数量好像越来越多了！",
                            "speaker": "enchantress"
                        },
                        {
                            "left_or_right": true,
                            "line": "德古拉：这些骷髅看起来被什么东西控制了，我们得找到控制他们的东西。",
                            "speaker": "dracula"
                        }
                    ],
                    "name": "story_01"
                }
            ]
        },
        {
            "name": "default_monster",
            "enabled": true,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "story_change",
                    "story_name": "story_01",
                    "story_state": "story_end"
                }
            ],
            "actions": [
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "event_change",
                    "event_name": "story_02",
                    "event_state": "event_enable"
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "white_ghost",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_02",
                    "unit_count": 1,
                    "unit_level": 5
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "white_ghost",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_04",
                    "unit_count": 2,
                    "unit_level": 5
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "white_ghost",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_06",
                    "unit_count": 2,
                    "unit_level": 5
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "white_ghost",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_11",
                    "unit_count": 2,
                    "unit_level": 5
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "skeleton_warrior",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_01",
                    "unit_count": 1,
                    "unit_level": 5
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "skeleton_warrior",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_04",
                    "unit_count": 1,
                    "unit_level": 5
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "skeleton_warrior",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_09",
                    "unit_count": 1,
                    "unit_level": 5
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "dead_archer",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_01",
                    "unit_count": 1,
                    "unit_level": 5
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "dead_archer",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_06",
                    "unit_count": 1,
                    "unit_level": 5
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "dead_archer",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_10",
                    "unit_count": 1,
                    "unit_level": 5
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "mummy",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_08",
                    "unit_count": 2,
                    "unit_level": 5
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "mummy",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_05",
                    "unit_count": 2,
                    "unit_level": 5
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "evil_wizard",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "show_hp": true,
                    "tag_name": "vice_boss",
                    "position_name": "vice_boss_01",
                    "unit_count": 1,
                    "is_boss": true,
                    "unit_level": 5,
                    "skill_1_level": 5
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "evil_wizard",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "show_hp": true,
                    "tag_name": "vice_boss",
                    "position_name": "vice_boss_02",
                    "unit_count": 1,
                    "is_boss": true,
                    "unit_level": 5,
                    "skill_1_level": 5
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "evil_wizard",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "show_hp": true,
                    "tag_name": "vice_boss",
                    "position_name": "vice_boss_03",
                    "unit_count": 1,
                    "is_boss": true,
                    "unit_level": 5,
                    "skill_1_level": 5
                }
            ]
        },
        {
            "name": "trigger_boss",
            "enabled": true,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "story_change",
                    "story_name": "story_02",
                    "story_state": "story_end"
                }
            ],
            "actions": [
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "event_change",
                    "event_name": "story_03",
                    "event_state": "event_enable"
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "event_change",
                    "event_name": "task_3_trigger",
                    "event_state": "event_enable"
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "event_change",
                    "event_name": "win_cond",
                    "event_state": "event_enable"
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "durarara",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "show_hp": true,
                    "tag_name": "boss",
                    "position_name": "boss",
                    "unit_count": 1,
                    "is_boss": true,
                    "custom_change": "hp:4000,scale:1",
                    "unit_level": 5,
                    "skill_1_level": 5
                }
            ]
        },
        {
            "name": "win_cond",
            "enabled": false,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "story_change",
                    "story_name": "story_03",
                    "story_state": "story_end"
                }
            ],
            "actions": [
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "task_change",
                    "task_name": "prim_win",
                    "task_state": "task_finished"
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "task_change",
                    "task_name": "sub_task_1",
                    "task_state": "task_finished"
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "task_change",
                    "task_name": "sub_task_2",
                    "task_state": "task_failed"
                }
            ]
        },
        {
            "name": "lose_cond",
            "enabled": true,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "unit_change",
                    "source_type": "tag_source",
                    "source_value": "player",
                    "unit_state": "unit_alive",
                    "trigger_count": 0
                }
            ],
            "actions": [
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "task_change",
                    "task_name": "prim_win",
                    "task_state": "task_failed"
                }
            ]
        },
        {
            "name": "story_02",
            "enabled": false,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "unit_change",
                    "source_type": "tag_source",
                    "source_value": "vice_boss",
                    "unit_state": "unit_alive",
                    "trigger_count": 0
                }
            ],
            "actions": [
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "story_action",
                    "story_data": [
                        {
                            "left_or_right": false,
                            "line": "无头骑士：嗷嗷嗷嗷！！！",
                            "speaker": "durarara"
                        },
                        {
                            "left_or_right": true,
                            "line": "猫女：开场白都不能有点新意吗...",
                            "speaker": "kyle"
                        },
                        {
                            "left_or_right": true,
                            "line": "德古拉：又吐槽了，竟然这么快就战胜了恐惧！",
                            "speaker": "dracula"
                        },
                        {
                            "left_or_right": true,
                            "line": "小鹿：喵好给力！",
                            "speaker": "enchantress"
                        },
                        {
                            "left_or_right": false,
                            "line": "无头骑士：嗷嗷嗷嗷嗷！！！",
                            "speaker": "durarara"
                        },
                        {
                            "left_or_right": true,
                            "line": "德古拉：的确太没有新意了...",
                            "speaker": "dracula"
                        }
                    ],
                    "name": "story_02"
                }
            ]
        },
        {
            "name": "story_03",
            "enabled": false,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "unit_change",
                    "source_type": "tag_source",
                    "source_value": "boss",
                    "unit_state": "unit_alive",
                    "trigger_count": 0
                }
            ],
            "actions": [
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "story_action",
                    "story_data": [
                        {
                            "left_or_right": false,
                            "line": "无头骑士：喂，让我加入吧！",
                            "speaker": "durarara"
                        },
                        {
                            "left_or_right": true,
                            "line": "小鹿：你...会说话？",
                            "speaker": "enchantress"
                        },
                        {
                            "left_or_right": false,
                            "line": "无头骑士：对注定将死之人，我都懒得费口舌。",
                            "speaker": "durarara"
                        },
                        {
                            "left_or_right": true,
                            "line": "德古拉：...",
                            "speaker": "dracula"
                        },
                        {
                            "left_or_right": true,
                            "line": "猫女：好，加入吧！",
                            "speaker": "kyle"
                        },
                        {
                            "left_or_right": true,
                            "line": "小鹿：！",
                            "speaker": "enchantress"
                        },
                        {
                            "left_or_right": true,
                            "line": "德古拉：！",
                            "speaker": "dracula"
                        },
                        {
                            "left_or_right": false,
                            "line": "猫女：有强手加入，找到那个废物主人的机率就更高了。",
                            "speaker": "kyle"
                        },
                        {
                            "left_or_right": true,
                            "line": "德古拉：有道理！",
                            "speaker": "dracula"
                        },
                        {
                            "left_or_right": false,
                            "line": "无头骑士：那么接下来去杀谁？",
                            "speaker": "durarara"
                        },
                        {
                            "left_or_right": true,
                            "line": "小鹿：......",
                            "speaker": "enchantress"
                        }
                    ],
                    "name": "story_03"
                }
            ]
        },
        {
            "name": "task_2_trigger",
            "enabled": true,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "unit_change",
                    "source_type": "type_source",
                    "source_value": "player",
                    "unit_state": "unit_dead",
                    "trigger_count": 1
                }
            ],
            "actions": [
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "task_change",
                    "task_name": "sub_task_1",
                    "task_state": "task_failed"
                }
            ]
        },
        {
            "name": "task_3_trigger",
            "enabled": false,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "unit_change",
                    "source_type": "type_source",
                    "source_value": "enemy",
                    "unit_state": "unit_alive",
                    "trigger_count": 0
                }
            ],
            "actions": [
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "task_change",
                    "task_name": "sub_task_2",
                    "task_state": "task_finished"
                }
            ]
        },
        {
            "name": "default_chomper",
            "enabled": true,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "story_change",
                    "story_name": "story_01",
                    "story_state": "story_end"
                }
            ],
            "actions": [
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "chomper_green",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "chomper_01",
                    "unit_count": 1,
                    "unit_level": 5
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "chomper_green",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "chomper_02",
                    "unit_count": 1,
                    "unit_level": 5
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "chomper_green",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "chomper_03",
                    "unit_count": 1,
                    "unit_level": 5
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "chomper_green",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "chomper_04",
                    "unit_count": 1,
                    "unit_level": 5
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "chomper_green",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "chomper_05",
                    "unit_count": 1,
                    "unit_level": 5
                }
            ]
        }
    ],
    "units": [
        "chomper_green",
        "dead_archer",
        "durarara",
        "evil_wizard",
        "mummy",
        "skeleton_warrior",
        "white_ghost"
    ],
    "tasks": [
        {
            "type": "primary_win",
            "name": "prim_win",
            "desc": "击败无头骑士",
            "title": "击败无头骑士"
        },
        {
            "type": "additional_win",
            "name": "sub_task_1",
            "desc": "全员存活",
            "title": "全员存活"
        },
        {
            "type": "additional_win",
            "name": "sub_task_2",
            "desc": "消灭所有敌人",
            "title": "消灭所有敌人"
        }
    ]
}