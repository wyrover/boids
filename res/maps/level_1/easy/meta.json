{
    "positions": [
        {
            "name": "player_start",
            "rect": {
                "x": 191.062,
                "y": 811.494,
                "width": 92.0659,
                "height": 96.8159
            }
        },
        {
            "name": "boss",
            "rect": {
                "x": 991.848,
                "y": 243.356,
                "width": 126.814,
                "height": 112.624
            }
        }
    ],
    "events": [
        {
            "name": "story_01",
            "enabled": true,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "map_init"
                }
            ],
            "actions": [
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "story_action",
                    "story_data": [
                        {
                            "left_or_right": true,
                            "line": "德古拉：一片漆黑...",
                            "speaker": "dracula"
                        }
                    ],
                    "name": "story_01"
                }
            ]
        },
        {
            "name": "trigger_boss",
            "enabled": true,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "story_change",
                    "story_name": "story_01",
                    "story_state": "story_end"
                }
            ],
            "actions": [
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "goblin_shredder",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "tag_name": "boss",
                    "position_name": "boss",
                    "unit_count": 1,
                    "is_boss": true,
                    "unit_level": 1
                }
            ]
        },
        {
            "name": "lose_cond",
            "enabled": true,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "unit_change",
                    "source_type": "tag_source",
                    "source_value": "player",
                    "unit_state": "unit_alive",
                    "trigger_count": 0
                }
            ],
            "actions": [
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "task_change",
                    "task_name": "task_main",
                    "task_state": "task_failed"
                }
            ]
        },
        {
            "name": "win_cond",
            "enabled": true,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "unit_change",
                    "source_type": "tag_source",
                    "source_value": "boss",
                    "unit_state": "unit_dead",
                    "trigger_count": 1
                }
            ],
            "actions": [
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "task_change",
                    "task_name": "task_main",
                    "task_state": "task_finished"
                }
            ]
        }
    ],
    "units": [
        "goblin_shredder"
    ],
    "tasks": [
        {
            "type": "primary_win",
            "name": "task_main",
            "desc": "消灭地精boss",
            "title": "消灭地精boss"
        },
        {
            "type": "additional_win",
            "name": "task_2",
            "desc": "全员存活",
            "title": "全员存活"
        },
        {
            "type": "additional_win",
            "name": "task_3",
            "desc": "消灭所有敌人",
            "title": "消灭所有敌人"
        }
    ]
}