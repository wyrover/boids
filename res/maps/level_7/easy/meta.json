{
    "positions": [
        {
            "name": "player_start",
            "rect": {
                "x": 2005.79,
                "y": 118.358,
                "width": 164.009,
                "height": 139.388
            }
        },
        {
            "name": "villiger_start",
            "rect": {
                "x": 2384.36,
                "y": 1095.21,
                "width": 143.506,
                "height": 118.881
            }
        },
        {
            "name": "route_1",
            "rect": {
                "x": 1777.5,
                "y": 907.599,
                "width": 118.156,
                "height": 87.1661
            },
            "prev_pos": "villiger_start"
        },
        {
            "name": "route_2",
            "rect": {
                "x": 1362.26,
                "y": 345.259,
                "width": 120.5,
                "height": 92.1735
            },
            "prev_pos": "route_1"
        },
        {
            "name": "route_3",
            "rect": {
                "x": 727.565,
                "y": 158.132,
                "width": 87.9476,
                "height": 83.2492
            },
            "prev_pos": "route_2"
        },
        {
            "name": "route_4",
            "rect": {
                "x": 363.387,
                "y": 832.329,
                "width": 119.663,
                "height": 87.1661
            },
            "prev_pos": "route_3"
        },
        {
            "name": "route_5",
            "rect": {
                "x": 929.953,
                "y": 1268.97,
                "width": 123.893,
                "height": 102.974
            },
            "prev_pos": "route_4"
        },
        {
            "name": "route_6",
            "rect": {
                "x": 1314.55,
                "y": 1835.17,
                "width": 121.39,
                "height": 109.288
            },
            "prev_pos": "route_5"
        },
        {
            "name": "route_final",
            "rect": {
                "x": 261.9,
                "y": 2239.96,
                "width": 167.289,
                "height": 177.257
            },
            "prev_pos": "route_6"
        },
        {
            "name": "orange_1",
            "rect": {
                "x": 1641.11,
                "y": 826.896,
                "width": 362.128,
                "height": 274.653
            }
        },
        {
            "name": "orange_02",
            "rect": {
                "x": 1994.87,
                "y": 529.073,
                "width": 95.094,
                "height": 103.078
            }
        },
        {
            "name": "orange_03",
            "rect": {
                "x": 1099.59,
                "y": 129.328,
                "width": 189.411,
                "height": 171.936
            }
        },
        {
            "name": "orange_04",
            "rect": {
                "x": 1630,
                "y": 87.7949,
                "width": 75.0081,
                "height": 62.1806
            }
        },
        {
            "name": "orange_05",
            "rect": {
                "x": 576.462,
                "y": 264.271,
                "width": 88.8929,
                "height": 91.7571
            }
        },
        {
            "name": "orange_06",
            "rect": {
                "x": 333.407,
                "y": 625.29,
                "width": 135.574,
                "height": 94.3169
            }
        },
        {
            "name": "orange_07",
            "rect": {
                "x": 628.969,
                "y": 1067.71,
                "width": 111.319,
                "height": 87.5826
            }
        },
        {
            "name": "orange_08",
            "rect": {
                "x": 496.783,
                "y": 1308.3,
                "width": 96.348,
                "height": 82.1587
            }
        },
        {
            "name": "orange_09",
            "rect": {
                "x": 1238.21,
                "y": 1983.33,
                "width": 145.902,
                "height": 98.7441
            }
        },
        {
            "name": "orange_10",
            "rect": {
                "x": 1597.04,
                "y": 1631.23,
                "width": 108.562,
                "height": 91.6493
            }
        },
        {
            "name": "orange_11",
            "rect": {
                "x": 702.424,
                "y": 2101.21,
                "width": 73.3934,
                "height": 79.1309
            }
        },
        {
            "name": "orange_12",
            "rect": {
                "x": 1128.87,
                "y": 2506.53,
                "width": 163.391,
                "height": 172.353
            }
        },
        {
            "name": "orange_13",
            "rect": {
                "x": 1860.02,
                "y": 2329.62,
                "width": 252.321,
                "height": 344.036
            }
        },
        {
            "name": "orange_14",
            "rect": {
                "x": 291.99,
                "y": 3076.27,
                "width": 274.967,
                "height": 187.941
            }
        },
        {
            "name": "boss",
            "rect": {
                "x": 1302.82,
                "y": 3196.1,
                "width": 293.326,
                "height": 228.113
            }
        },
        {
            "name": "trigger_villiger_start",
            "rect": {
                "x": 2255.67,
                "y": 967.72,
                "width": 175.17,
                "height": 348.412
            }
        }
    ],
    "events": [
        {
            "name": "lose_cond_1",
            "enabled": true,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "unit_change",
                    "source_type": "tag_source",
                    "source_value": "player",
                    "unit_state": "unit_alive",
                    "trigger_count": 0
                }
            ],
            "actions": [
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "task_change",
                    "task_name": "task_main",
                    "task_state": "task_failed"
                }
            ]
        },
        {
            "name": "lose_cond_2",
            "enabled": false,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "unit_change",
                    "source_type": "tag_source",
                    "source_value": "villiger",
                    "unit_state": "unit_alive",
                    "trigger_count": 0
                }
            ],
            "actions": [
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "task_change",
                    "task_name": "task_2",
                    "task_state": "task_failed"
                }
            ]
        },
        {
            "name": "story_01",
            "enabled": true,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "map_init"
                }
            ],
            "actions": [
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "story_action",
                    "story_data": [
                        {
                            "left_or_right": true,
                            "line": "？？？：救命，救命啊！",
                            "speaker": "goblin_auntie"
                        },
                        {
                            "left_or_right": false,
                            "line": "？？？：喊破喉咙也不会有人来救你们的，哦呵呵呵呵～",
                            "speaker": "goblin_auntie"
                        },
                        {
                            "left_or_right": true,
                            "line": "小鹿：叫声在左上方，我们去那儿看看吧！",
                            "speaker": "enchantress"
                        }
                    ],
                    "name": "story_01"
                }
            ]
        },
        {
            "name": "route_monster_01",
            "enabled": true,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "story_change",
                    "story_name": "story_01",
                    "story_state": "story_end"
                }
            ],
            "actions": [
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "desert_thief",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_1",
                    "unit_count": 4,
                    "unit_level": 7
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "desert_thief_leader",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_1",
                    "unit_count": 1,
                    "unit_level": 7
                }
            ]
        },
        {
            "name": "villiger",
            "enabled": true,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "story_change",
                    "story_name": "story_01",
                    "story_state": "story_end"
                }
            ],
            "actions": [
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "goblin",
                    "unit_type": "ally",
                    "unit_state": "unit_hold_appear",
                    "show_hp": true,
                    "tag_name": "villiger",
                    "position_name": "villiger_start",
                    "unit_count": 3,
                    "custom_change": "hp:2000,attackable:false,movespeed:0",
                    "unit_level": 12
                }
            ]
        },
        {
            "name": "villiger_start",
            "enabled": true,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "unit_stay",
                    "source_type": "tag_source",
                    "source_value": "player",
                    "position_name": "trigger_villiger_start",
                    "trigger_count": 1,
                    "duration": 0
                }
            ],
            "actions": [
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "tag_source",
                    "source_value": "villiger",
                    "unit_state": "unit_move",
                    "position_name": "route_final",
                    "custom_change": "attackable:true,movespeed:60",
                    "unit_level": 1
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "event_change",
                    "event_name": "lose_cond_2",
                    "event_state": "event_enable"
                }
            ]
        },
        {
            "name": "route_monster_2",
            "enabled": true,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "unit_stay",
                    "source_type": "tag_source",
                    "source_value": "villiger",
                    "position_name": "route_1",
                    "trigger_count": 1,
                    "duration": 0
                }
            ],
            "actions": [
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "desert_thief",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_02",
                    "unit_count": 2,
                    "unit_level": 7
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "desert_thief",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_04",
                    "unit_count": 1,
                    "unit_level": 7
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "desert_thief",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_03",
                    "unit_count": 1,
                    "unit_level": 7
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "desert_thief",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "route_3",
                    "unit_count": 1,
                    "unit_level": 7
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "desert_thief_leader",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_03",
                    "unit_count": 1,
                    "unit_level": 7
                }
            ]
        },
        {
            "name": "route_monster_3",
            "enabled": true,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "unit_stay",
                    "source_type": "tag_source",
                    "source_value": "",
                    "position_name": "route_2",
                    "trigger_count": 1,
                    "duration": 0
                }
            ],
            "actions": [
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "desert_thief",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_06",
                    "unit_count": 1,
                    "unit_level": 7
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "desert_thief",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_08",
                    "unit_count": 1,
                    "unit_level": 7
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "desert_thief_leader",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_07",
                    "unit_count": 1,
                    "unit_level": 7
                }
            ]
        },
        {
            "name": "route_monster_4",
            "enabled": true,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "unit_stay",
                    "source_type": "tag_source",
                    "source_value": "villiger",
                    "position_name": "route_6",
                    "trigger_count": 1,
                    "duration": 0
                }
            ],
            "actions": [
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "desert_thief",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_10",
                    "unit_count": 1,
                    "unit_level": 7
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "desert_thief",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_09",
                    "unit_count": 1,
                    "unit_level": 7
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "desert_thief",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_11",
                    "unit_count": 1,
                    "unit_level": 7
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "desert_thief",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "route_final",
                    "unit_count": 2,
                    "unit_level": 7
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "desert_thief_leader",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_09",
                    "unit_count": 1,
                    "unit_level": 7
                }
            ]
        },
        {
            "name": "default_monster",
            "enabled": true,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "story_change",
                    "story_name": "story_01",
                    "story_state": "story_end"
                }
            ],
            "actions": [
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "bomb_robot",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_13",
                    "unit_count": 3,
                    "unit_level": 7,
                    "skill_1_level": 7
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "bomb_robot",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_12",
                    "unit_count": 2,
                    "unit_level": 7,
                    "skill_1_level": 7
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "bomb_robot",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_14",
                    "unit_count": 3,
                    "unit_level": 7,
                    "skill_1_level": 7
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "bee",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_14",
                    "unit_count": 1,
                    "unit_level": 7
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "bee",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_12",
                    "unit_count": 1,
                    "unit_level": 7
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "bee",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_13",
                    "unit_count": 1,
                    "unit_level": 7
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "rattletrap",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_13",
                    "unit_count": 1,
                    "is_boss": true,
                    "unit_level": 7,
                    "skill_1_level": 7
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "rattletrap",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "position_name": "orange_14",
                    "unit_count": 1,
                    "is_boss": true,
                    "unit_level": 7,
                    "skill_1_level": 7
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "name_source",
                    "source_value": "goblin_helicopter",
                    "unit_type": "enemy",
                    "unit_state": "unit_appear",
                    "show_hp": true,
                    "tag_name": "boss",
                    "position_name": "boss",
                    "unit_count": 1,
                    "is_boss": true,
                    "custom_change": "hp:4000",
                    "unit_level": 7,
                    "skill_1_level": 7
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "event_change",
                    "event_name": "win_cond",
                    "event_state": "event_enable"
                }
            ]
        },
        {
            "name": "win_cond",
            "enabled": false,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "unit_change",
                    "source_type": "tag_source",
                    "source_value": "boss",
                    "unit_state": "unit_dead",
                    "trigger_count": 1
                }
            ],
            "actions": [
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "task_change",
                    "task_name": "task_main",
                    "task_state": "task_finished"
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "task_change",
                    "task_name": "task_2",
                    "task_state": "task_failed"
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "task_change",
                    "task_name": "task_3",
                    "task_state": "task_finished"
                }
            ]
        },
        {
            "name": "reach_route_final",
            "enabled": true,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "unit_stay",
                    "source_type": "tag_source",
                    "source_value": "villiger",
                    "position_name": "route_final",
                    "trigger_count": 1,
                    "duration": 0
                }
            ],
            "actions": [
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "task_change",
                    "task_name": "task_2",
                    "task_state": "task_finished"
                },
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "unit_change",
                    "source_type": "tag_source",
                    "source_value": "villiger",
                    "unit_state": "unit_disappear",
                    "unit_level": 1
                }
            ]
        },
        {
            "name": "task_3_trigger",
            "enabled": true,
            "trigger_meta": {
                "is_repeated": false,
                "trigger_relation": "then"
            },
            "triggers": [
                {
                    "trigger_type": "game_time",
                    "timeout": 3000,
                    "relation": 2
                }
            ],
            "actions": [
                {
                    "meta": "0,0.00,0.00",
                    "action_type": "task_change",
                    "task_name": "task_3",
                    "task_state": "task_failed"
                }
            ]
        }
    ],
    "units": [
        "bee",
        "bomb_robot",
        "desert_thief",
        "desert_thief_leader",
        "goblin_helicopter",
        "rattletrap"
    ],
    "tasks": [
        {
            "type": "primary_win",
            "name": "task_main",
            "desc": "消灭地精直升机",
            "title": "消灭地精直升机"
        },
        {
            "type": "additional_win",
            "name": "task_2",
            "desc": "至少一名地精到达目的地",
            "title": "至少一名地精到达目的地"
        },
        {
            "type": "additional_win",
            "name": "task_3",
            "desc": "在5分钟内完成游戏",
            "title": "在5分钟内完成游戏"
        }
    ]
}